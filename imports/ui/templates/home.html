<template name="home">
	<section class="home {{dayOffType}}">
		<header>
			<h1>Day off reporter</h1>
		</header>

{{#if editable}}
		<section class="completed-entries">
			<table>
	{{#each entry in entries}}
		{{#if getEntry entry}}
				<tr class="completed-entry {{editable}}" data-id="{{entry}}">
					<th>{{entryName entry}}</th>
					<td>{{getEntry entry}}</td>
				</tr>
		{{/if}}
	{{/each}}
			</table>
		</section>

		{{>dayOffEntry}}
		{{!-- TODO: Display hints --}}
	{{#if hint}}
		<p class="hint">{{hint}}</p>
	{{/if}}
{{else}}
		{{>submissionConfirmation}}
{{/if}}
	</section>
</template>

<template name="dayOffEntry">
	<form class="entry-form">
		{{> Template.dynamic template=nextEntry}}
	</form>
</template>

<template name="dayOffType">
	<section class="day-off-buttons">
{{#each dayOffButtons}}
		{{> dayOffTypeButton}}
{{/each}}
	</section>
</template>

<template name="dayOffTypeButton">
	<button type="submit" class="day-off-button btn btn-lg btn-primary {{value}}" name="dayOffType" value="{{value}}">{{text}}</button>
</template>

<template name="requestorName">
	<input type="text" name="requestorName" id="name" placeholder="Your name" value="{{oldValue}}" autocomplete="off" required />
	<button type="submit" class="btn btn-lg btn-primary">Next</button>
</template>

<template name="requestorEmail">
	<input type="email" name="requestorEmail" id="email" placeholder="Your email" value="{{oldValue}}" autocomplete="off" required />
	<button type="submit" class="btn btn-lg btn-primary">Next</button>
</template>

<template name="requestedDate">
	<input type="text" name="requestedDate" id="daterange" placeholder="MM/DD/YYYY - MM/DD/YYYY" value="{{oldValue}}" autocomplete="off" required />
	<button type="submit" class="btn btn-lg btn-primary">Next</button>
</template>

<template name="requestedLocation">
	<select name="requestedLocation" id="location" required>
		<option value="">Select location</option>
{{#each location in locations}}
		<option value="{{location._id}}" {{oldValueSelected location}}>{{location.name}}</option>
{{/each}}
	</select>
	<button type="submit" class="btn btn-lg btn-primary">Next</button>
</template>

<template name="requestReason">
	<textarea class="form-control" name="requestReason" id="reason" placeholder="Reason (optional)"  autocomplete="off">{{oldValue}}</textarea>
	<button type="submit" class="btn btn-lg btn-primary">Next</button>
</template>

<template name="requestConfirmation">
	<input type="hidden" name="requestConfirmation" value="confirmed" />
	<p>
		Does everything look right? Click an entry to change it.
	</p>
	<button type="submit" class="btn btn-lg btn-primary">Submit request</button>
</template>

<template name="submissionConfirmation">
	<div class="submission-confirmation">
{{#if sickDay}}
		<p>
			Please notify your rotation site charge faculty
			and the faculty you are assigned directly as soon as possible
			using the following number.
		</p>
		<p class="location-number">
			{{location}}: {{number}}
		</p>
		<p>
			If you are on call, notify both chief residents via pager as soon as possible.
		</p>
		<table class="chief-pager-table">
	{{#each chief in chiefs}}
			<tr>
				<th>{{chief.name}}</th>
				<td>{{chief.pager}}</td>
			</tr>
	{{/each}}
		</table>
{{else}}
		<p>
			Approval requests have been sent. You will be notified of their responses.
		</p>
{{/if}}
		<button type="button" class="btn btn-lg btn-primary" id="restart">Restart</button>
	</div>
</template>
