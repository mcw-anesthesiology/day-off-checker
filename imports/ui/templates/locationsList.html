<template name="locationsList">
	<section class="locations-list container">
		<h1>Locations</h1>
{{#if locationToEdit}}
		{{>editLocation location=locationToEdit}}
{{else}}
		<button type="button" class="btn btn-lg btn-primary" id="add-location">Add location</button>
{{/if}}

		{{>reactiveTable collection=locations settings=locationsSettings}}
	</section>
</template>

<template name="editLocation">
	<div class="well">
{{#if editing}}
		<h2>Edit location</h2>
{{else}}
		<h2>Add location</h2>
{{/if}}
		<form id="edit-location">
			<div class="row">
				<div class="form-group col-lg-3">
					<label for="id">ID</label>
					<input type="text" class="form-control" id="id" name="id" value="{{location._id}}" placeholder="ID" required />
				</div>
				<div class="form-group col-lg-3">
					<label for="name">Name</label>
					<input type="text" class="form-control" id="name" name="name" value="{{location.name}}" placeholder="Name" required />
				</div>
				<div class="form-group col-lg-3">
					<label for="number">Number</label>
					<input type="text" class="form-control" id="number" name="number" value="{{location.number}}" placeholder="Number" required />
				</div>
				<div class="form-group col-lg-3">
					<label for="administrator">Administrator</label>
					<select class="form-control" id="administrator" name="administrator" required>
						<option value="" selected disabled hidden>Select an administrator</option>
{{#each siteAdmin in siteAdmins}}
						<option value="{{siteAdmin._id}}">{{siteAdmin.name}}</option>
{{/each}}
					</select>
				</div>
			</div>
			<div class="row button-row">
				<button type="button" class="btn btn-default close-edit-location">Cancel</button>
				<button type="submit" class="btn btn-primary">Submit</button>
			</div>
		</form>
	</div>
</template>
